<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- ตั้งค่าขั้นตอนการไหลหนังสือภายใน สร้างหนังสือภายใน-->
    <record model="ir.ui.view" id="document_internal_main_form_view">
        <field name="name">document.internal.main.form</field>
        <field name="model">document.internal.main</field>
        <field name="arch" type="xml">
            <form string="หนังสือภายใน บันทึกข้อความ">
                <header>
                    <button name="action_sent_to_supervisor" type="object" class="oe_highlight"
                            string="ส่งไปยังผู้บังคับบัญชาขั้นต้น" states="draft"/>
<!--                    <button name="set_to_draft" type="object" class="oe_highlight" string="set to draft" attrs="{'invisible':[('state', 'in', ['draft','send','done'] )]}"/>-->
                    <button name="state_done" type="object" class="oe_highlight" string="Done" states="7"/>
                    <field name='state' widget="statusbar" statusbar_visible="draft,sent,1,2,3,4,5,6,7,done"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name='toggle_active' type='object' class='oe_stat_button' icon='fa-archive'>
                            <field name='active' widget='boolean_button' options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <h1>
                        <field name="name" readonly='1'/>

                    </h1>
                    <!--  <group attrs="{'invisible':[('document_type','==','บันทึกข้อความ')]}">-->
                    <group>
                        <group>
                            <field name="tag_ids" widget="many2many_tags"
                                   attrs="{'readonly': [('state', '!=', 'draft')]}"
                                   options="{'color_field': 'color', 'no_create_edit': True}"/>
                        </group>
                        <group>
                            <field name="internal_document_note" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
                    </group>
                    <!-- <group>
                    	<field name="menu_count_document" invisible="1"/>
                    </group> -->
                    <group col="6" colspan="4">
                        <group col="2" colspan="3">
                            <field name="document_type" invisible="1"/>
                            <field name="employee_id" invisible="1"/>
                            <field name="department_id" invisible="1"/>
                            <field name="check_group_user" invisible="1"/>
                            <!--                            <field name="send_with_original_document" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                            <!--                                    <field name="circular_letter" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                            <field name="date_document" invisible="1"/>
                            <field name="department_name" readonly="1"/>

                            <field name="name_real" readonly="1" force_save="1"/>
                            <field name="date_document_real" readonly="1" force_save="1"/>
                            <field name="speed" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="secret" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="subject" required='1' attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
                    </group>
                    <notebook>
                        <page name='infomation' string='ข้อมูล'>
                            <group col="6" colspan="4">
                                <group col="2" colspan="3">
                                    <!--<group col="2" colspan="4">-->
                                    <!--<field name="document_type" invisible="1"/>-->
                                    <!--<field name="employee_id" invisible="1"/>-->
                                    <!--<field name="department_id" invisible="1"/>-->
                                    <!--<field name="check_group_user" invisible="1"/>-->
                                    <!--<field name="send_with_original_document" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                                    <!--[>                                    <field name="circular_letter" attrs="{'readonly': [('state', '!=', 'draft')]}"/><]-->
                                    <!--<field name="date_document" invisible="1"/>-->
                                    <!--<field name="department_name" readonly="1"/>-->
                                    <!--</group>-->
                                    <!--<group col="2" colspan="4">-->
                                    <!--<field name="name_real" readonly="1" force_save="1"/>-->
                                    <!--<field name="date_document_real" readonly="1" force_save="1"/>-->
                                    <!--<field name="speed" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                                    <!--<field name="secret" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                                    <!--</group>-->
                                    <group col="2" colspan="4">
                                        <!--<field name="subject" required='1' attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                                        <field name="setting_line_ids_related" readonly="1">
                                            <tree edit="false">
                                                <field name="is_active"/>
                                                <field name="step" required="1"/>
                                                <field name="job_id_name" required="1"
                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                <field name="employee_id" required="1"
                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                            </tree>
                                        </field>
                                    </group>
                                    <group col="2" colspan="4">
                                        <field name="attachment_ids" widget="many2many_binary"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="note" colspan="4"/>
                                    </group>
                                </group>
                                <group col="2" colspan="3">
                                    <field name="is_participant" invisible="1"/>
                                    <field name="selected_material" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                           domain="[('document_type', '=',document_type)]"
                                           options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                    <field name="material" required="1"
                                           attrs="{'readonly': ['|', ('is_participant', '=', False), ('state', '=', 'done')]}"/>
                                    <!--                                    <field name="sign" required='1' attrs="{'required':[('circular_letter', '=', True)],'readonly': [('state', '!=', 'draft')]}" options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>-->
                                    <field name="for_document" required="1"
                                           attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                    <field name="for_document_other"
                                           attrs="{'required':[('for_document', '=', 'other')],'invisible':[('for_document', '!=', 'other')],'readonly': [('state', '!=', 'draft')]}"/>
                                    <field name="sign" invisible="1" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                           options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                </group>
                            </group>
                        </page>
                        <page name='infomation' string='reference'>
                            <group>
                                <field name="reference_line_ids_multi" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                    <!--                                    <field name="view_type">form</field>-->
                                    <!--                                    <field name="view_ids"-->
                                    <!--                                           eval="[-->
                                    <!--                                           (5, 0, 0), (0, 0, {'view_mode': 'form', 'view_id': ref('pfb_saraban.document_internal_all_form_view')}),-->
                                    <!--                                           ]"-->
                                    <!--                                    />-->
                                    <!--                                    <field name="context">{'create': False, 'delete': False}</field>-->
                                    <form create="0" edit="0">
                                        <header>
                                            <field name='state' widget="statusbar"
                                                   statusbar_visible="draft,sent,1,2,3,4,5,6,7,done"/>
                                        </header>
                                        <sheet>
                                            <h1>
                                                <field name="name" readonly='1'/>
                                            </h1>
                                            <notebook>
                                                <page name='infomation' string='ข้อมูล'>
                                                    <group col="6" colspan="4"
                                                           attrs="{'invisible':[('document_type','!=','บันทึกข้อความ')]}">
                                                        <group col="2" colspan="3">
                                                            <group col="2" colspan="4">
                                                                <field name="document_type" invisible="1"/>
                                                                <field name="employee_id" invisible="1"/>
                                                                <field name="department_id" invisible="1"/>
                                                                <field name="check_group_user" invisible="1"/>
                                                                <!--                                                          <field name="send_with_original_document" readonly='1'/>-->
                                                                <!--                                    <field name="circular_letter" attrs="{'readonly': [('state', '!=', 'draft')]}"/>-->
                                                                <field name="date_document" invisible="1"/>
                                                                <field name="department_name" readonly="1"/>
                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="name_real" readonly="1" force_save="1"/>
                                                                <field name="date_document_real" readonly="1"
                                                                       force_save="1"/>
                                                                <field name="speed" readonly='1'/>
                                                                <field name="secret" readonly='1'/>
                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="subject" readonly='1'/>
                                                                <field name="setting_line_ids_related" readonly="1">
                                                                    <tree edit="false">
                                                                        <field name="is_active" readonly='1'/>
                                                                        <field name="step" required="1"/>
                                                                        <field name="job_id_name" required="1"
                                                                               readonly='1'
                                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                        <field name="employee_id" required="1"
                                                                               readonly='1'
                                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                    </tree>
                                                                </field>
                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="attachment_ids" widget="many2many_binary"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"
                                                                       readonly='1'/>
                                                                <field name="note" colspan="4"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"
                                                                       readonly='1'/>
                                                            </group>
                                                        </group>
                                                        <group col="2" colspan="3">
                                                            <field name="is_participant" invisible="1"/>
                                                            <field name="selected_material" readonly='1'
                                                                   domain="[('document_type', '=',document_type)]"
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="material" readonly='1'
                                                                   attrs="{'required': [('document_type','==','บันทึกข้อความ')]}"/>
                                                            <!--                                    <field name="sign" required='1' attrs="{'required':[('circular_letter', '=', True)],'readonly': [('state', '!=', 'draft')]}" options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>-->
                                                            <field name="for_document" readonly='1'
                                                                   attrs="{'required': [('document_type','==','บันทึกข้อความ')]}"/>
                                                            <field name="for_document_other" readonly='1'
                                                                   attrs="{'required':[('for_document', '=', 'other')],'invisible':[('for_document', '!=', 'other')]}"/>
                                                            <field name="sign" invisible="1" readonly='1'
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                        </group>
                                                    </group>
                                                    <group col="6" colspan="4"
                                                           attrs="{'invisible':[('document_type','==','บันทึกข้อความ')]}">
                                                        <group col="2" colspan="3">
                                                            <group col="2" colspan="4">
                                                                <field name="document_type" invisible="1"/>
                                                                <field name="document_type_select" readonly='1'/>
                                                                <!--                                                              <field name="send_with_original_document" readonly='1'/>-->
                                                                <field name="employee_id" invisible="1"/>
                                                                <field name="department_id" invisible="1"/>
                                                                <field name="department_name" readonly="1"/>
                                                                <field name="prefix" force_save="1" readonly="1"
                                                                       attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')],'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}"/>
                                                                <field name="check_group_user" invisible="1"/>

                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="date_document" readonly="1"
                                                                       force_save="1"/>
                                                                <field name="speed" readonly='1'/>
                                                                <field name="secret" readonly='1'/>
                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="subject" readonly='1'/>
                                                                <field name="document_note" readonly='1'/>
                                                                <field name="setting_line_ids_related" readonly="1">
                                                                    <tree edit="false">
                                                                        <field name="is_active" readonly='1'/>
                                                                        <field name="step" required="1" readonly='1'/>
                                                                        <field name="job_id_name" required="1"
                                                                               readonly='1'
                                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                        <field name="employee_id" required="1"
                                                                               readonly='1'
                                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                    </tree>
                                                                </field>
                                                            </group>
                                                            <group col="2" colspan="4">
                                                                <field name="attachment_ids" widget="many2many_binary"
                                                                       readonly='1'/>
                                                                <field name="note" colspan="4" readonly='1'/>
                                                            </group>
                                                        </group>
                                                        <group col="2" colspan="3">
                                                            <group colspan="3">
                                                                <field name="name_real" readonly="1"
                                                                       attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')]}"/>
                                                                <field name="date_document_real"
                                                                       string="หนังสือภายนอก+หนังสือรับรอง date document real"
                                                                       readonly="1" force_save="1"
                                                                       attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')]}"/>
                                                                <field name="selected_material" readonly='1'
                                                                       domain="[('document_type', '=',document_type)]"
                                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            </group>
                                                            <!-- ประกาศ Section -->
                                                            <group col="2" colspan="3"
                                                                   string="ประกาศสำนักงานส่งเสริมเศรษฐกิจดิจิทัล"
                                                                   attrs="{'invisible':[('document_type','!=','ประกาศ')]}">
                                                                <field name="name_real" readonly="1"
                                                                       attrs="{'invisible':[('document_type','!=','ประกาศ')]}"/>
                                                                <field name="internal_title" string="ประกาศ Title"
                                                                       readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','ประกาศ')],'required':[('document_type','==','ประกาศ')]}"/>
                                                                <field name="material" readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','ประกาศ')],'required':[('document_type','==','ประกาศ')]}"/>
                                                                <field name="date_document_real"
                                                                       string="ประกาศ date document real" readonly="1"
                                                                       force_save="1"
                                                                       attrs="{'invisible':[('document_type','!=','ประกาศ')]}"/>
                                                            </group>
                                                            <!-- END ประกาศ Section -->
                                                            <!-- คำสั่ง Section -->
                                                            <group col="2" colspan="3"
                                                                   string="คำสั่งสำนักงานส่งเสริมเศรษฐกิจดิจิทัล"
                                                                   attrs="{'invisible':[('document_type','not in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])]}">
                                                                <field name="name_real" readonly="1"
                                                                       attrs="{'invisible':[('document_type','not in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])]}"/>
                                                                <field name="internal_title" string="คำสั่ง Title"
                                                                       readonly='1'
                                                                       attrs="{'invisible':[('document_type','not in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])],'required':[('document_type','in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])]}"/>
                                                                <field name="material" readonly='1'
                                                                       attrs="{'invisible':[('document_type','not in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])],'required':[('document_type','in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])]}"/>
                                                                <field name="date_document_real"
                                                                       string="คำสั่ง date document real" readonly="1"
                                                                       force_save="1"
                                                                       attrs="{'invisible':[('document_type','not in',['คำสั่ง ก', 'คำสั่ง ข', 'คำสั่ง ค', 'คำสั่ง พ'])]}"/>
                                                            </group>
                                                            <!-- END คำสั่ง Section -->
                                                            <!-- ระเบียบ Section -->
                                                            <group col="2" colspan="3"
                                                                   string="ระเบียบสำนักงานส่งเสริมเศรษฐกิจดิจิทัล"
                                                                   attrs="{'invisible':[('document_type','!=','ระเบียบ')]}">
                                                                <field name="name_real" readonly="1"
                                                                       attrs="{'invisible':[('document_type','!=','ระเบียบ')]}"/>
                                                                <field name="internal_title" readonly='1'
                                                                       string="ระเบียบ Title"
                                                                       attrs="{'invisible':[('document_type','!=','ระเบียบ')],'required':[('document_type','==','ระเบียบ')]}"/>
                                                                <field name="material" readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','ระเบียบ')],'required':[('document_type','==','ระเบียบ')]}"/>
                                                                <field name="date_document_real"
                                                                       string="ระเบียบ date document real" readonly="1"
                                                                       force_save="1"
                                                                       attrs="{'invisible':[('document_type','!=','ระเบียบ')]}"/>
                                                            </group>
                                                            <!-- END ระเบียบ Section -->
                                                            <!-- ข้อบังคับ Section -->
                                                            <group col="2" colspan="3" css="text-align:center;"
                                                                   string="ข้อบังคับสำนักงานส่งเสริมเศรษฐกิจดิจิทัล"
                                                                   attrs="{'invisible':[('document_type','!=','ข้อบังคับ')]}">
                                                                <field name="name_real" readonly="1"
                                                                       attrs="{'invisible':[('document_type','!=','ข้อบังคับ')]}"/>
                                                                <field name="internal_title" readonly='1'
                                                                       string="ข้อบังคับ Title"
                                                                       attrs="{'required':[('document_type','==','ข้อบังคับ')]}"/>
                                                                <field name="material" readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','ข้อบังคับ')],'required':[('document_type','==','ข้อบังคับ')]}"/>
                                                                <field name="date_document_real"
                                                                       string="ข้อบังคับ date document real"
                                                                       readonly="1" force_save="1"
                                                                       attrs="{'invisible':[('document_type','!=','ข้อบังคับ')]}"/>
                                                            </group>
                                                            <!-- END ข้อบังคับ Section -->

                                                            <!-- หนังสือภายนอก+หนังสือรับรอง Section -->
                                                            <group col="2" colspan="3"
                                                                   attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')]}">
                                                                <field name="internal_title"
                                                                       string="หนังสือภายนอก+หนังสือรับรอง Title"
                                                                       readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')],'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}"/>

                                                                <field name="dear_select" readonly='1'
                                                                       attrs="{'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}"/>

                                                                <field name="reference_receive_document_related"
                                                                       readonly="1"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')], 'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')],'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}">
                                                                    <field name="view_type">tree</field>
                                                                    <tree options="{'no_create': True, 'no_create_edit':True,'no_open':True}">
                                                                        <field name="name"/>
                                                                        <field name="date_document"/>
                                                                        <field name="name_real"/>
                                                                        <field name="date_document_real"/>
                                                                        <field name="refer"/>
                                                                        <field name="from_document"/>
                                                                        <!--                                        <field name="employee_id"/>-->
                                                                        <field name="subject"/>
                                                                        <field name="state" invisible="1"/>
                                                                    </tree>
                                                                </field>
                                                                <field name="attached_file_in"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')], 'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')],'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}">
                                                                    <tree>
                                                                        <field name="name"/>
                                                                        <field name="datas_fname"/>
                                                                        <!-- <field name="datas" widget="binary" filename="datas_fname" /> -->
                                                                    </tree>
                                                                </field>
                                                                <field name="material" readonly='1'
                                                                       attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')],'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}"/>
                                                                <field name="for_document" readonly='1'
                                                                       attrs="{'required':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}"/>
                                                                <field name="for_document_other" readonly='1'
                                                                       attrs="{'required':[('for_document', '=', 'other')],'invisible':[('for_document', '!=', 'other')],'readonly': [('state', '!=', 'draft')]}"/>
                                                            </group>
                                                            <!-- End หนังสือภายนอก+หนังสือรับรอง Section -->

                                                            <group css="text-align:center;" colspan="3"
                                                                   attrs="{'invisible':[('document_type','==','หนังสือภายนอก+หนังสือรับรอง')]}">
                                                                <field name="sign_employee" readonly='1'
                                                                       attrs="{'required': [('document_type','!=','บันทึกข้อความ')]}"
                                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                <field name="sign_department" readonly="1"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                                            </group>
                                                            <group string="ขอแสดงความนับถือ" css="text-align:center;"
                                                                   colspan="3"
                                                                   attrs="{'invisible':[('document_type','!=','หนังสือภายนอก+หนังสือรับรอง')]}">
                                                                <field name="sign_employee" readonly='1'
                                                                       attrs="{'required': [('document_type','!=','บันทึกข้อความ')]}"
                                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                                <field name="sign_department" readonly="1"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                                                <field name="suffix"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                                                <field name="sign_email"
                                                                       attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                                            </group>

                                                        </group>
                                                    </group>
                                                </page>
                                                <page name='infomation' string='reference'>
                                                    <group>
                                                        <field name="reference_line_ids_multi" readonly='1'
                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}">
                                                            <tree>
                                                                <field name="name"/>
                                                                <field name="date_document"/>
                                                                <field name="name_real"/>
                                                                <field name="date_document_real"/>
                                                                <field name="document_type"/>
                                                                <field name="department_name"/>
                                                                <field name="subject"/>
                                                                <!--                                        <field name="speed"/>-->
                                                                <!--                                        <field name="secret"/>-->
                                                                <field name="state"/>
                                                            </tree>
                                                        </field>
                                                    </group>
                                                    <group>
                                                        <field name="reference_receive_document" readonly='1'
                                                               options="{'no_create': True, 'no_create_edit':True,'no_open':True}">
                                                            <tree>
                                                                <field name="name"/>
                                                                <field name="date_document"/>
                                                                <field name="name_real"/>
                                                                <field name="date_document_real"/>
                                                                <field name="refer"/>
                                                                <field name="date_receive"/>
                                                                <field name="from_document"/>
                                                                <!--                                        <field name="employee_id"/>-->
                                                                <field name="subject"/>
                                                                <field name="state"/>
                                                            </tree>
                                                        </field>
                                                    </group>
                                                </page>
                                                <page name='infomation' string='ลำดับอุนมัต'>
                                                    <group>
                                                        <group>
                                                            <field name="routings_internal_id" readonly='1'
                                                                   attrs="{'readonly': [('state', '!=', 'draft')]}"
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="approval_count" invisible="1"/>
                                                        </group>
                                                    </group>
                                                    <field name="setting_line_ids" required='1' readonly='1'>
                                                        <tree edit="0" create="0" delete="0">
                                                            <field name="sequence" widget="handle"/>
                                                            <field name="is_active"/>
                                                            <field name="step" required='1'/>
                                                            <field name="status"/>
                                                            <field name="document_id" invisible='1'/>
                                                            <field name="job_id_name" required='1'
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="employee_id" required='1'
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="sender"/>
                                                            <field name="approve_type" required='1'/>
                                                            <field name="approve_request_time"/>
                                                            <field name="approve_time" readonly='1'/>
                                                            <field name="comment" readonly='1'/>
                                                            <field name="status_approve" readonly='1'/>
                                                        </tree>
                                                    </field>
                                                </page>

                                                <page string="อ้างอิงเอกสาร FIN">
                                                    <group string='FIN100'>
                                                        <field name='fin_100_ids' options="{'no_create': True}">
                                                            <tree editable="bottom">
                                                                <field name='fin_date'/>
                                                                <field name="fin_no"/>
                                                                <field name="priority"/>
                                                                <field name="fin_type"/>
                                                                <field name="fin_objective"/>
                                                                <field name="fin_ref"/>
                                                                <field name="fin_remark"/>
                                                                <field name="price_total"/>
                                                                <field name='state'/>
                                                                <field name="requester"/>
                                                                <field name="actual_department_name"/>
                                                                <field name="is_fin_lock"/>
                                                                <field name="show_fin" invisible="1"/>
                                                                <field name="is_fin_open" invisible="1"/>
                                                            </tree>
                                                        </field>
                                                    </group>
                                                    <group string='FIN201'>
                                                        <field name='fin_201_ids' options="{'no_create': True}">
                                                            <tree editable="bottom">
                                                                <field name='fin_date'/>
                                                                <field name="fin_no"/>
                                                                <field name="priority"/>
                                                                <field name="fin_type"/>
                                                                <field name="fin_objective"/>
                                                                <field name="reference"/>
                                                                <field name="fin_remark"/>
                                                                <field name="price_total"/>
                                                                <field name='state'/>
                                                                <field name="requester"/>
                                                                <field name="actual_department_name"/>
                                                                <field name="is_fin_lock"/>
                                                                <field name="show_fin" invisible="1"/>
                                                            </tree>
                                                        </field>
                                                    </group>
                                                    <group string='FIN401'>
                                                        <field name='fin_401_ids' options="{'no_create': True}">
                                                            <tree editable="bottom">
                                                                <field name='fin_date'/>
                                                                <field name="fin_no"/>
                                                                <field name="priority"/>
                                                                <field name="fin_type"/>
                                                                <field name="fin_objective"/>
                                                                <field name="fin_ref"/>
                                                                <field name="fin_remark"/>
                                                                <field name="price_total"/>
                                                                <field name='state'/>
                                                                <field name="requester"/>
                                                                <field name="actual_department_name"/>
                                                                <field name="is_fin_lock"/>
                                                                <field name="show_fin" invisible="1"/>
                                                            </tree>
                                                        </field>
                                                    </group>
                                                </page>

                                            </notebook>
                                        </sheet>
                                    </form>
                                    <tree>
                                        <field name="name"/>
                                        <field name="date_document"/>
                                        <field name="name_real"/>
                                        <field name="date_document_real"/>
                                        <field name="document_type"/>
                                        <field name="department_name"/>
                                        <field name="subject"/>
                                        <!--                                        <field name="speed"/>-->
                                        <!--                                        <field name="secret"/>-->
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <field name="reference_receive_document"
                                       attrs="{'readonly': [('state', '!=', 'draft')]}"
                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}">
                                    <!--                                    <field name="view_type">form</field>-->
                                    <!--                                    <field name="view_ids" eval="[(5, 0, 0),-->
                                    <!--                                    (0, 0, {'view_mode': 'form', 'view_id': ref('pfb_saraban.document_internal_all_form_view')}),-->
                                    <!--                                    ]"/>-->
                                    <form>
                                        <header>
                                            <field name='state' widget="statusbar"
                                                   statusbar_visible="draft,sent,1,2,done"/>
                                        </header>
                                        <sheet>
                                            <h1>
                                                <field name="name" readonly='1'/>
                                            </h1>
                                            <group>
                                                <group>
                                                    <field name="tag_ids" widget="many2many_tags" readonly='1'
                                                           options="{'color_field': 'color', 'no_create_edit': True}"/>
                                                </group>
                                            </group>
                                            <notebook>
                                                <page name='infomation' string='ข้อมูล'>
                                                    <field name="check_group_user" invisible="1"/>
                                                    <group string="ข้อมูลหนังสือรับ" col="4">
                                                        <group colspan="2">
                                                            <group colspan="4">
                                                                <!--                                                          <field name="send_with_original_document" readonly='1'/>-->
                                                                <field name="from_document" readonly='1'/>
                                                                <field name="refer" readonly='1'/>
                                                                <field name="date_receive" readonly='1'/>

                                                                <field name="subject" readonly='1'/>
                                                                <field name="speed" readonly='1'/>
                                                                <field name="secret" readonly='1'/>
                                                            </group>
                                                            <group col="2" colspan="2">
                                                                <field name="dear" required="1" widget="radio"
                                                                       readonly='1'/>
                                                                <field name="job_name" widget="many2many_tags"
                                                                       readonly='1'
                                                                       attrs="{'invisible':[('dear', '==', 'empolyee_name')],'readonly': [('state', '!=', 'draft')]}"/>
                                                                <field name="empolyee_name" widget="many2many_tags"
                                                                       readonly='1'
                                                                       attrs="{'required':[('dear', '==', 'empolyee_name')],'invisible':[('dear', '==', 'job_name')]}"/>
                                                            </group>
                                                        </group>
                                                        <group col="8" colspan="2">
                                                            <group colspan="8">
                                                                <field name="attachment_ids" widget="many2many_binary"
                                                                       readonly='1'/>
                                                                <field name="reference_internal" readonly="1"
                                                                       options="{'no_create': True, 'no_create_edit':True,'no_open':True}">
                                                                    <tree create="0" edit="0" delete="0">
                                                                        <field name="date_document"/>
                                                                        <field name="name" string="name"/>
                                                                        <field name="name_real"/>
                                                                        <field name="date_document_real"/>
                                                                        <!-- <field name="document_type"/> -->
                                                                        <field name="department_name"/>
                                                                        <field name="subject"/>
                                                                        <field name="state" invisible="1"/>
                                                                    </tree>
                                                                </field>
                                                            </group>
                                                        </group>
                                                    </group>
                                                    <group string="DEPA" col="4" colspan="4">
                                                        <group col="3" colspan="3">
                                                            <field name="date_document" invisible="1"/>
                                                            <field name="name_real" readonly="1"/>
                                                            <button name="real_name_gen" type="object"
                                                                    class="oe_highlight" string="run"
                                                                    attrs="{'invisible':['|', ('state', '!=', 'draft'), ('check_group_user', '!=', True)]}"/>
                                                            <field name="date_document_real" readonly="1"/>
                                                            <field name="employee_id" invisible="1"/>
                                                            <field name="department_id" invisible="1"/>
                                                            <field name="department_name" readonly="1"/>
                                                            <field name="note" readonly='1'/>
                                                        </group>
                                                    </group>
                                                </page>
                                                <page name='infomation' string='ลำดับอุนมัต'>
                                                    <group>
                                                        <group>
                                                            <field name="routings_internal_id" readonly='1'/>
                                                            <field name="approval_count" invisible="1"/>
                                                        </group>
                                                    </group>
                                                    <field name="setting_line_ids" readonly='1'>
                                                        <tree edit="0" default_order="step,sequence">
                                                            <field name="sequence" widget="handle"/>
                                                            <field name="is_active"/>
                                                            <field name="step" required='1'
                                                                   attrs="{'readonly': [('status_approve', '!=', False)]}"/>
                                                            <field name="status"/>
                                                            <field name="document_id" invisible='1'/>
                                                            <field name="job_id_name" required='1'
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="sender"/>
                                                            <field name="to_or_cc"
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <field name="employee_id" required='1'
                                                                   context="{'job_title_searchable': True}"
                                                                   options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                                            <!--                                    <field name="order_choice" options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>-->
                                                            <field name="approve_type" required='1'
                                                                   attrs="{'readonly': [('status_approve', '!=',False)]}"
                                                                   options="{'no_create_edit': True}"/>
                                                            <field name="approve_time" readonly='1'/>
                                                            <field name="comment" readonly='1'/>
                                                            <field name="status_approve" readonly='1'/>
                                                        </tree>
                                                    </field>
                                                </page>
                                            </notebook>
                                        </sheet>
                                    </form>
                                    <tree>
                                        <field name="name"/>
                                        <field name="date_document"/>
                                        <field name="name_real"/>
                                        <field name="date_document_real"/>
                                        <field name="refer"/>
                                        <field name="date_receive"/>
                                        <field name="from_document"/>
                                        <!--                                        <field name="employee_id"/>-->
                                        <field name="subject"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <page name='infomation' string='ลำดับอุนมัต'>
                            <group>
                                <group>
                                    <field name="routings_internal_id" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                           options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                    <field name="approval_count" invisible="1"/>
                                    <button class="btn btn-primary" name="action_make_approval_wizard" type="object"
                                            attrs="{'invisible': [('state', 'in', ['draft','done','cancel'])]}">
                                        <span>Make Approval</span>
                                    </button>
                                    <button name="make_order_setting_line" type="object" class="oe_highlight"
                                            attrs="{'invisible': [('state', '!=', 'draft')]}">
                                        <span>Order</span>
                                    </button>
                                </group>

                            </group>
                            <field name="setting_line_ids" required='1'
                                   attrs="{'readonly': [('state', '!=', 'draft')]}">
                                <tree edit="true" required='1' editable='bottom'   decoration-danger="approve_time&lt;max_date_approve">
                                    <field name="sequence" widget="handle"/>
                                    <field name="is_active"/>
                                    <field name="step" required='1'/>
                                    <field name="status"/>
                                    <field name="document_id" invisible='1'/>
                                    <field name="job_id_name" required='1'
                                           options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                    <field name="employee_id" context="{'job_title_searchable': True}" required='1'
                                           options="{'no_create': True, 'no_create_edit':True,'no_open':True}"/>
                                    <field name="sender"/>
                                    <field name="approve_type" required='1'/>
                                    <field name="approve_request_time"/>
                                    <field name="approve_time" readonly='1'/>
                                    <field name="comment" readonly='1'/>
                                    <field name="status_approve" readonly='1'/>
                                    <field name="max_date_approve" invisible='1'/>
                                </tree>
                            </field>
                        </page>
                        <page string="อ้างอิงเอกสาร FIN">
                            <group string='FIN100'>
                                <field name='fin_100_ids' options="{'no_create': True}">
                                    <tree editable="bottom">
                                        <field name='fin_date'/>
                                        <field name="fin_no"/>
                                        <field name="priority"/>
                                        <field name="fin_type"/>
                                        <field name="fin_objective"/>
                                        <field name="fin_ref"/>
                                        <field name="fin_remark"/>
                                        <field name="price_total"/>
                                        <field name='state'/>
                                        <field name="requester"/>
                                        <field name="actual_department_name"/>
                                        <field name="is_fin_lock"/>
                                        <field name="show_fin" invisible="1"/>
                                        <field name="is_fin_open" invisible="1"/>
                                    </tree>
                                </field>
                            </group>
                            <group string='FIN201'>
                                <field name='fin_201_ids' options="{'no_create': True}">
                                    <tree editable="bottom">
                                        <field name='fin_date'/>
                                        <field name="fin_no"/>
                                        <field name="priority"/>
                                        <field name="fin_type"/>
                                        <field name="fin_objective"/>
                                        <field name="reference"/>
                                        <field name="fin_remark"/>
                                        <field name="price_total"/>
                                        <field name='state'/>
                                        <field name="requester"/>
                                        <field name="actual_department_name"/>
                                        <field name="is_fin_lock"/>
                                        <field name="show_fin" invisible="1"/>
                                    </tree>
                                </field>
                            </group>
                            <group string='FIN401'>
                                <field name='fin_401_ids' options="{'no_create': True}">
                                    <tree editable="bottom">
                                        <field name='fin_date'/>
                                        <field name="fin_no"/>
                                        <field name="priority"/>
                                        <field name="fin_type"/>
                                        <field name="fin_objective"/>
                                        <field name="fin_ref"/>
                                        <field name="fin_remark"/>
                                        <field name="price_total"/>
                                        <field name='state'/>
                                        <field name="requester"/>
                                        <field name="actual_department_name"/>
                                        <field name="is_fin_lock"/>
                                        <field name="show_fin" invisible="1"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                <script>
                    $(function(){
                    $('textarea[name="material"]').css("font-size", '14px');
                    $('span[name="material"]').css("font-size", '14px');
                    })
                </script>
            </form>
        </field>
    </record>

    <!-- Course views: Search -->
    <record model="ir.ui.view" id="document_search_internal_main_view">
        <field name="name">document.internal.main.search</field>
        <field name="model">document.internal.main</field>
        <field name="arch" type="xml">
            <search>
                <field name="approver_name_list" string="Approver"/>
                <field name="name" string="all"
                       filter_domain="['|','|','|','|','|', ('name','ilike',self), ('document_type','ilike',self), ('name_real', 'ilike', self),('department_name', 'ilike', self), ('subject', 'ilike', self),('note', 'ilike', self)]"/>
                <group string="Group By">
                    <filter name="by_responsible" string="Name" context="{'group_by': 'name'}"/>
                </group>
            </search>
        </field>
    </record>
    <!-- Course views: Tree -->
    <record model="ir.ui.view" id="document_internal_main_tree_view">
        <field name="name">document.internal.main.tree</field>
        <field name="model">document.internal.main</field>
        <field name="arch" type="xml">
            <tree string="document Tree" default_order='id desc'>
                <field name="name"/>
                <field name="date_document"/>
                <field name="name_real"/>
                <field name="date_document_real"/>
                <field name="document_type"/>
                <field name="department_name"/>
                <field name="subject"/>
                <field name="speed"/>
                <field name="speed"/>
                <field name="secret"/>
                <field name="state"/>
                <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="document_internal_main_all_tree_view">
        <field name="name">document.internal.main.tree</field>
        <field name="model">document.internal.main</field>
        <field name="arch" type="xml">
            <tree string="document Tree" default_order='id desc' create="false" edit="false" delete="false"
                  duplicate="false">
                <field name="name"/>
                <field name="date_document"/>
                <field name="name_real"/>
                <field name="date_document_real"/>
                <field name="document_type"/>
                <field name="department_name"/>
                <field name="subject"/>
                <field name="speed"/>
                <field name="secret"/>
                <field name="state"/>
                <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="document_internal_main_calendar_view">
        <field name="name">document.internal.main.calendar</field>
        <field name="model">document.internal.main</field>
        <field name="arch" type="xml">
            <calendar string="document internal Calendar" date_start="date_document" color='department_name'>
                <field name="department_name"/>
            </calendar>
        </field>
    </record>
    <!-- <record id="hr_employee_action_subordinate_hierachy_test" model="ir.actions.act_window">
        <field name="name">Archived</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">document.internal.main</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_form_view"/>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="binding_model_id" ref="pfb_saraban.document_internal_main"/>
    </record> -->

    <!-- Internal Main many2many action -->
    <record model="ir.actions.act_window" id="document_internal_main_many2many_action_list">
        <field name="name">หนังสือภายใน/บันทึกข้อความ</field>
        <field name="res_model">document.internal.main</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_all_tree_view"/>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window.view" id="document_internal_main_many2many_action_list_tree">
        <field eval="1" name="sequence"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_all_tree_view"/>
        <field name="act_window_id" ref="document_internal_main_many2many_action_list"/>
    </record>

    <!--Move to internal_document_announce.xml-->
    <!-- <record model="ir.actions.act_window.view" id="document_internal_main_many2many_action_list_form">
        <field eval="2" name="sequence"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="pfb_saraban.document_internal_all_form_view"/>
        <field name="act_window_id" ref="document_internal_main_many2many_action_list"/>
    </record> -->
    <!-- Move to internal_document_announce.xml -->

    <!-- END Internal Main many2many action -->

    <!--    <record model="ir.actions.act_window" id="document_internal_main_many2many_list_action">-->
    <!--        <field name="name">หนังสือภายใน/บันทึกข้อความ</field>-->
    <!--        <field name="res_model">document.internal.main</field>-->
    <!--        <field name="view_type">form</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                          (0, 0, {'view_mode': 'tree', 'view_id': ref('pfb_saraban.document_internal_main_all_tree_view')}),-->
    <!--                          (0, 0, {'view_mode': 'form', 'view_id': ref('pfb_saraban.document_internal_all_form_view')}),-->
    <!--                        ]"/>-->
    <!--        <field name="view_mode">tree,form,calendar,kanban,pivot,graph</field>-->
    <!--    </record>-->

    <!-- Internal Main list action -->
    <record model="ir.actions.act_window" id="document_internal_main_action_list">
        <field name="name">หนังสือภายใน/บันทึกข้อความ</field>
        <field name="res_model">document.internal.main</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_tree_view"/>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('department_id.member_ids.user_id', '=', uid),('document_type', '=', 'บันทึกข้อความ')]
        </field>
        <field name="context">{'default_document_type': 'บันทึกข้อความ'}</field>
    </record>

    <record model="ir.actions.act_window.view" id="document_internal_main_action_list_tree">
        <field eval="1" name="sequence"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_tree_view"/>
        <field name="act_window_id" ref="document_internal_main_action_list"/>
    </record>

    <record model="ir.actions.act_window.view" id="document_internal_main_action_list_form">
        <field eval="2" name="sequence"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="pfb_saraban.document_internal_main_form_view"/>
        <field name="act_window_id" ref="document_internal_main_action_list"/>
    </record>
    <!-- END Internal Main list action -->

    <!--    <record model="ir.actions.act_window" id="document_internal_main_list_action">-->
    <!--        <field name="name">หนังสือภายใน/บันทึกข้อความ</field>-->
    <!--        <field name="res_model">document.internal.main</field>-->
    <!--        <field name="view_type">form</field>-->
    <!--        <field name="view_mode">tree,calendar,form,kanban,pivot,graph</field>-->
    <!--        <field name="domain">[('department_id.member_ids.user_id', '=', uid),('document_type', '=', 'บันทึกข้อความ')]</field>-->
    <!--        <field name="context">{'default_document_type': 'บันทึกข้อความ'}</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                          (0, 0, {'view_mode': 'tree', 'view_id': ref('pfb_saraban.document_internal_main_tree_view')}),-->
    <!--                          (0, 0, {'view_mode': 'form', 'view_id': ref('pfb_saraban.document_internal_main_form_view')}),-->
    <!--                        ]"/>-->
    <!--    </record>-->

</odoo>
